# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Web Apps

## üì± –ß—Ç–æ —Ç–∞–∫–æ–µ Telegram Web Apps

Telegram Web Apps - —ç—Ç–æ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram –∏ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram Web App API.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Telegram

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram Web App SDK

–í —Ñ–∞–π–ª–µ `public/index.html` —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω —Å–∫—Ä–∏–ø—Ç:

```html
<script src="https://telegram.org/js/telegram-web-app.js"></script>
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram —á–µ—Ä–µ–∑ `WebAppContext`:

```javascript
import { useWebApp } from '../contexts/WebAppContext';

const MyComponent = () => {
  const { userInfo, webApp } = useWebApp();
  
  // userInfo —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
  // {
  //   id: 123456789,
  //   first_name: "–ò–≤–∞–Ω",
  //   last_name: "–ò–≤–∞–Ω–æ–≤",
  //   username: "ivan_ivanov",
  //   language_code: "ru"
  // }
  
  return <div>–ü—Ä–∏–≤–µ—Ç, {userInfo?.first_name}!</div>;
};
```

### 3. –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

```javascript
userInfo = {
  id: 123456789,              // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  first_name: "–ò–≤–∞–Ω",         // –ò–º—è
  last_name: "–ò–≤–∞–Ω–æ–≤",        // –§–∞–º–∏–ª–∏—è (–º–æ–∂–µ—Ç –±—ã—Ç—å null)
  username: "ivan_ivanov",    // Username (–º–æ–∂–µ—Ç –±—ã—Ç—å null)
  language_code: "ru",        // –ö–æ–¥ —è–∑—ã–∫–∞
  is_premium: false,          // Premium —Å—Ç–∞—Ç—É—Å
  photo_url: "https://..."    // URL —Ñ–æ—Ç–æ (–º–æ–∂–µ—Ç –±—ã—Ç—å null)
}
```

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ `userInfo.id` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ `userId` –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤:

```javascript
// –í ProfileForm.jsx
formDataToSend.append('userId', userInfo.id);

// –í Profiles.jsx
const params = new URLSearchParams({
  userId: userInfo.id,
  // ...
});
```

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

Telegram –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ü–≤–µ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```javascript
const { webApp } = useWebApp();

useEffect(() => {
  if (webApp) {
    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç —Ñ–æ–Ω–∞
    webApp.setHeaderColor('#ffffff');
    webApp.setBackgroundColor('#ffffff');
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
    webApp.BackButton.show();
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
    webApp.BackButton.onClick(() => {
      // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    });
  }
}, [webApp]);
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

```javascript
if (webApp) {
  webApp.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
}
```

## üì≤ –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –∏ Web App

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Web App

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newapp` –≤ @BotFather
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **Title**: –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - **Short name**: –ö–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è (–¥–ª—è URL)
   - **Description**: –û–ø–∏—Å–∞–Ω–∏–µ
   - **Photo**: –ò–∫–æ–Ω–∫–∞ 640x360px
   - **GIF**: –ê–Ω–∏–º–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **Web App URL**: `https://your-app.vercel.app`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é –±–æ—Ç–∞

```
/setmenubutton
–í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
Button text: –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
Web App: –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç Telegram

Telegram –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `initData`, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –±—ç–∫–µ–Ω–¥–µ:

```javascript
// –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑:
window.Telegram.WebApp.initDataUnsafe.user

// –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å initData –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (Java)

```java
// –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ initData
public boolean validateTelegramData(String initData, String botToken) {
    // –ü–∞—Ä—Å–∏–Ω–≥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ initData
    // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ HMAC
    return isValid;
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: `npm start`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [Telegram Web App Tester](https://web.telegram.org/k/#@WebAppTesterBot)
3. –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
   ```
   http://localhost:3000?tgWebAppStartParam=test
   ```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

1. –°–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: `npm run build`
2. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ Vercel/Netlify
3. –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞
4. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
5. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å Web App

## üì± –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö:

- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω
- ‚úÖ Touch-friendly –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –°–≤–∞–π–ø—ã –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–æ–∫
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Telegram Web Apps

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Telegram, –Ω–µ –Ω—É–∂–Ω–æ:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –í—Ö–æ–¥–∞
- –í–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è

### –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```javascript
const { userInfo } = useWebApp();

// userInfo.id - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ userId –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
```

### –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```javascript
const { closeApp } = useWebApp();

// –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
closeApp();
```

### –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞

```javascript
const { requestContact } = useWebApp();

// –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
requestContact();
```

## üöÄ Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

Telegram Web Apps —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTPS. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ HTTPS
- –ë—ç–∫–µ–Ω–¥ –Ω–∞ HTTPS (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏)
- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ HTTPS

### CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ù–∞ –±—ç–∫–µ–Ω–¥–µ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ–º–µ–Ω Telegram:

```properties
spring.web.cors.allowed-origins=https://web.telegram.org,https://your-app.vercel.app
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
REACT_APP_API_BASE_URL=https://your-backend.com
REACT_APP_TELEGRAM_BOT_NAME=your_bot_name
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Web Apps Documentation](https://core.telegram.org/bots/webapps)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegram Web App Tester](https://web.telegram.org/k/#@WebAppTesterBot)

