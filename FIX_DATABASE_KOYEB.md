# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ Koyeb

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–¢—ã –≤–≤–µ–ª:
```
DATABASE_URL postgresql://neondb_owner:npg_O5nmXKtzQl7P@ep-icy-voice-ago4k94t.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
```

**–û—à–∏–±–∫–∏:**
1. ‚ùå –ù–µ—Ç –∑–Ω–∞–∫–∞ `=` –º–µ–∂–¥—É `DATABASE_URL` –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º
2. ‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä `channel_binding=require` –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

–í Koyeb Dashboard ‚Üí Environment Variables –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

**Key:** `DATABASE_URL`

**Value:** 
```
postgresql://neondb_owner:npg_O5nmXKtzQl7P@ep-icy-voice-ago4k94t.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
```

**–ò–õ–ò** (–µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π –±–µ–∑ `channel_binding`):
```
postgresql://neondb_owner:npg_O5nmXKtzQl7P@ep-icy-voice-ago4k94t.c-2.eu-central-1.aws.neon.tech/neondb
```

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ó–∞–π–¥–∏ –≤ Koyeb Dashboard
- –û—Ç–∫—Ä–æ–π https://www.koyeb.com/apps
- –í—ã–±–µ—Ä–∏ —Å–≤–æ–π app

### 2. –û—Ç–∫—Ä–æ–π Environment Variables
- –ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª "Environment Variables" –∏–ª–∏ "Secrets"
- –ù–∞–∂–º–∏ "Add Variable" –∏–ª–∏ "Edit"

### 3. –î–æ–±–∞–≤—å/–ò—Å–ø—Ä–∞–≤—å DATABASE_URL
- **Key:** `DATABASE_URL` (—Ç–æ—á–Ω–æ —Ç–∞–∫, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
- **Value:** `postgresql://neondb_owner:npg_O5nmXKtzQl7P@ep-icy-voice-ago4k94t.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require`
- –°–æ—Ö—Ä–∞–Ω–∏

### 4. –ü—Ä–æ–≤–µ—Ä—å –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `KEY=VALUE`:
- `DATABASE_URL=postgresql://...`
- `JWT_SECRET=—Ç–≤–æ–π-—Å–µ–∫—Ä–µ—Ç`
- `CLOUDINARY_CLOUD_NAME=—Ç–≤–æ–π-cloud-name`
- –∏ —Ç.–¥.

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ app –≤ Koyeb
- –ò–ª–∏ –ø–æ–¥–æ–∂–¥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Koyeb
- Koyeb Dashboard ‚Üí —Ç–≤–æ–π app ‚Üí Logs
- –ò—â–∏ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
  - `DATABASE_URL environment variable is required`
  - `could not connect to server`
  - `connection refused`

### 2. –ü—Ä–æ–≤–µ—Ä—å —á–µ—Ä–µ–∑ API
–ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —á–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–ª–∏ Swagger UI:
```
https://married-perl-dk-it1-106c0464.koyeb.app/docs
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ DATABASE_URL.

## üö® –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "DATABASE_URL environment variable is required"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ—á–Ω–æ `DATABASE_URL` (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –µ—Å—Ç—å –∑–Ω–∞–∫ `=` –º–µ–∂–¥—É –∫–ª—é—á–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "could not connect to server"
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ URL —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑ Neon Dashboard
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ URL-encode)
3. –ü–æ–ø—Ä–æ–±—É–π –±–µ–∑ `channel_binding=require`:
   ```
   postgresql://neondb_owner:npg_O5nmXKtzQl7P@ep-icy-voice-ago4k94t.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: "password authentication failed"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä–æ–ª—å –≤ Neon Dashboard
- –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è URL-encoding
- –ü–æ–ø—Ä–æ–±—É–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –≤ Neon

### –ü—Ä–æ–±–ª–µ–º–∞: "connection timeout"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Neon database –Ω–µ –≤ sleep —Ä–µ–∂–∏–º–µ (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω)
- –ü–æ–ø—Ä–æ–±—É–π –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ Neon Dashboard ‚Üí Connection String
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ IP –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```
DATABASE_URL=postgresql://neondb_owner:npg_O5nmXKtzQl7P@ep-icy-voice-ago4k94t.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
JWT_SECRET=—Ç–≤–æ–π-—Å–µ–∫—Ä–µ—Ç-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
CLOUDINARY_CLOUD_NAME=—Ç–≤–æ–π-cloud-name
CLOUDINARY_API_KEY=—Ç–≤–æ–π-api-key
CLOUDINARY_API_SECRET=—Ç–≤–æ–π-api-secret
CORS_ORIGINS=https://web.telegram.org,https://telegram.org
```

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –°–æ—Ö—Ä–∞–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Koyeb
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ app (–∏–ª–∏ –ø–æ–¥–æ–∂–¥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
4. –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —á–µ—Ä–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
5. –ü—Ä–æ–≤–µ—Ä—å —á–µ—Ä–µ–∑ Swagger UI: `/docs` ‚Üí `POST /api/profiles/`

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- Koyeb Dashboard: https://www.koyeb.com/apps
- Neon Dashboard: https://console.neon.tech
- –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Neon Connection String: `HOW_TO_GET_NEON_DATABASE_URL.md`

